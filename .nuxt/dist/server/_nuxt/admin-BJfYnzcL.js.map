{"version":3,"file":"admin-BJfYnzcL.js","sources":["../../../../client/middleware/admin.ts"],"sourcesContent":["import { useAuth } from '~/stores/auth'\nimport { RouteLocationNormalized } from 'vue-router'\n\nexport default defineNuxtRouteMiddleware((to: RouteLocationNormalized, from: RouteLocationNormalized) => {\n    const auth = useAuth()\n\n    if (!auth.user.roles || !auth.user.roles.find(x => x.name === 'admin')) {\n        useCookie('intended_url').value = to.path\n        return navigateTo({ name: 'profile-me' })\n    }\n})\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,MAAA,QAAe,0BAA0B,CAAC,IAA6B,SAAkC;AACrG,QAAM,OAAO;AAEb,MAAI,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,KAAK,MAAM,KAAK,CAAA,MAAK,EAAE,SAAS,OAAO,GAAG;AAC1D,cAAA,cAAc,EAAE,QAAQ,GAAG;AACrC,WAAO,WAAW,EAAE,MAAM,aAAc,CAAA;AAAA,EAC5C;AACJ,CAAC;"}