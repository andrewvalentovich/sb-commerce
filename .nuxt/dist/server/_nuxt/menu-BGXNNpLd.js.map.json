{"file":"menu-BGXNNpLd.js","mappings":"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","names":[],"sources":["../../../../client/components/Dropdown.vue","../../../../client/components/dialogs/auth/login.vue","../../../../client/components/dialogs/auth/register.vue","../../../../client/stores/menu.ts"],"sourcesContent":["<script setup>\nimport { computed, onMounted, onUnmounted, ref } from 'vue';\n\nconst props = defineProps({\n    align: {\n        type: String,\n        default: 'right',\n    },\n    width: {\n        type: String,\n        default: '48',\n    },\n    contentClasses: {\n        type: Array,\n        default: () => ['py-1', 'bg-white'],\n    },\n});\n\nlet open = ref(false);\n\nconst closeOnEscape = (e) => {\n    if (open.value && e.key === 'Escape') {\n        open.value = false;\n    }\n};\n\nonMounted(() => document.addEventListener('keydown', closeOnEscape));\nonUnmounted(() => document.removeEventListener('keydown', closeOnEscape));\n\nconst widthClass = computed(() => {\n    return {\n        '48': 'w-48',\n    }[props.width.toString()];\n});\n\nconst alignmentClasses = computed(() => {\n    if (props.align === 'left') {\n        return 'origin-top-left left-0';\n    }\n\n    if (props.align === 'right') {\n        return 'origin-top-right right-0';\n    }\n\n    return 'origin-top';\n});\n</script>\n\n<template>\n    <div class=\"relative\">\n        <div @click=\"open = ! open\">\n            <slot name=\"trigger\" />\n        </div>\n\n        <!-- Full Screen Dropdown Overlay -->\n        <div v-show=\"open\" class=\"fixed inset-0 z-40\" @click=\"open = false\" />\n\n        <transition\n            enter-active-class=\"transition ease-out duration-200\"\n            enter-from-class=\"transform opacity-0 scale-95\"\n            enter-to-class=\"transform opacity-100 scale-100\"\n            leave-active-class=\"transition ease-in duration-75\"\n            leave-from-class=\"transform opacity-100 scale-100\"\n            leave-to-class=\"transform opacity-0 scale-95\"\n        >\n            <div\n                v-show=\"open\"\n                class=\"absolute z-50 mt-2 rounded-md shadow-lg\"\n                :class=\"[widthClass, alignmentClasses]\"\n                @click=\"open = false\"\n            >\n                <div class=\"rounded-md bg-white\" :class=\"contentClasses\">\n                    <slot name=\"content\" />\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n","<template>\n    <!-- authorization Popup -->\n    <DialogModal :noFooter=\"false\" :show=\"dialogAuth.active.login\" @close=\"dialogAuth.setActive('login', false)\">\n        <template #content>\n            <section class=\"bg-gray-50 dark:bg-gray-900\">\n                <div class=\"w-full space-y-8 bg-white rounded-lg dark:bg-gray-800\">\n                    <h2 class=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                        Авторизация\n                    </h2>\n                    <form class=\"mt-8 space-y-6\" @submit.prevent=\"submit\">\n                        <div>\n                            <label for=\"email\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Эл. почта</label>\n                            <input v-model=\"form.email\" placeholder=\"mail@mail.ru\" type=\"email\" name=\"email\" id=\"email\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" />\n                        </div>\n                        <div>\n                            <label for=\"password\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Пароль</label>\n                            <input v-model=\"form.password\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"••••••••\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" required />\n                        </div>\n                        <div class=\"flex items-start\">\n                            <div class=\"flex items-center h-5\">\n                                <input id=\"remember\" aria-describedby=\"remember\" name=\"remember\" type=\"checkbox\" class=\"w-4 h-4 border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600\" />\n                            </div>\n                            <div class=\"ms-3 text-sm\">\n                                <label for=\"remember\" class=\"font-medium text-gray-500 dark:text-gray-400\">Запомнить меня</label>\n                            </div>\n                            <a href=\"#\" class=\"ms-auto text-sm font-medium text-blue-600 hover:underline dark:text-blue-500\">Забыли пароль?</a>\n                        </div>\n                        <uiButtonPrimary type=\"submit\" :disabled=\"loadingBtn\">\n                            {{ loadingBtn ? '...' : 'Войти' }}\n                        </uiButtonPrimary>\n                    </form>\n                </div>\n            </section>\n        </template>\n        <template #footer>\n            <div class=\"mt-3 mb-6 text-sm font-medium text-gray-900 dark:text-white\">\n                Ещё не зарегистрированы? <a class=\"text-blue-600 hover:underline dark:text-blue-500 cursor-pointer\">Создать аккаунт</a>\n            </div>\n        </template>\n    </DialogModal>\n</template>\n\n<script setup>\nimport { useAuth } from '~/stores/auth'\nimport { useDialogAuth, useDialog } from '~/stores/dialog'\nimport Cookies from 'js-cookie'\n\nconst auth = useAuth()\nconst dialogAuth = useDialogAuth()\nconst dialog = useDialog()\nconst router = useRouter()\n\nconst showPassword = ref(false)\nconst loadingBtn = ref(false)\n\n\n\n\nlet form\nformClear()\n\n\nasync function submit(e) {\n    await auth.login({...form})\n}\n\nwatch(() => dialogAuth.active.login, v => {\n    formClear()\n    v ? bodyFixed() : bodyNotFixed()\n})\n\nfunction formClear() {\n    form = reactive(formDefaults())\n}\n\nfunction formDefaults() {\n    return {\n        email: '',\n        password: '',\n    }\n}\n</script>\n","<template>\n    <!-- Registration Popup -->\n    <section :class=\"{ active: dialogAuth.active.register }\" class=\"registration popup\">\n        <div class=\"registration__content\">\n            <div class=\"registration__title title\">\n                Регистрация\n            </div>\n            <form class=\"registration__form\" @submit.prevent=\"submit\">\n                <div class=\"registration__info\">\n                    <input v-model=\"form.email\" name=\"email\" class=\"registration__mail registration__info-item input_blue \" placeholder=\"Эл. почта\">\n                    <div class=\"password-eye\">\n                        <input v-model=\"form.password\" class=\"registration__password registration__info-item input_blue\"\n                               placeholder=\"Пароль\" :type=\"showPassword ? 'text' : 'password'\" name=\"password\">\n                        <div :class=\"{ active: showPassword }\" class=\"password-control\">\n<!--                            <img src=\"/img/icons/eye-off.svg\" alt=\"eye-off\" @click=\"showPassword = true\">-->\n<!--                            <img src=\"/img/icons/eye-show.svg\" alt=\"eye-show\" @click=\"showPassword = false\">-->\n                        </div>\n                    </div>\n                    <div class=\"password-eye\">\n                        <input v-model=\"form.password_confirmation\" class=\"registration__password-confirm registration__info-item input_blue\"\n                               placeholder=\"Потвердить пароль\" :type=\"showPassword ? 'text' : 'password'\">\n                        <div :class=\"{ active: showPassword }\" class=\"password-control\">\n<!--                            <img src=\"/img/icons/eye-off.svg\" alt=\"eye-off\" @click=\"showPassword = true\">-->\n<!--                            <img src=\"/img/icons/eye-show.svg\" alt=\"eye-show\" @click=\"showPassword = false\">-->\n                        </div>\n                    </div>\n                </div>\n                <div class=\"registration__roles\">\n                    <label class=\"registration__role registration__organizer\">\n                        <input v-model=\"form.role\" type=\"radio\" name=\"role\" value=\"organizer\" checked>\n                        <span class=\"filter__custom-input\"></span>\n                        <div class=\"registration__role-text\">\n                            Организатор\n                        </div>\n                    </label>\n                    <label class=\"registration__role registration__sponsor\">\n                        <input v-model=\"form.role\" type=\"radio\" name=\"role\" value=\"sponsor\">\n                        <span class=\"filter__custom-input\"></span>\n                        <div class=\"registration__role-text\">\n                            Партнер\n                        </div>\n                    </label>\n                </div>\n                <button class=\"registration__create-btn btn btn_blue\" type=\"submit\" :disabled=\"loadingBtn\">\n                    {{ loadingBtn ? '...' : 'Создать аккаунт' }}\n                </button>\n            </form>\n            <div class=\"registration__footer\">\n                <div class=\"registration__login\">\n                    Есть аккаунт?\n                    <div class=\"registration__login-btn header__authorization\" @click=\"dialogAuth.activateLogin()\">\n                        Авторизация\n                    </div>\n                </div>\n            </div>\n            <div class=\"popup-close\" @click=\"dialogAuth.setActive('register')\"></div>\n        </div>\n    </section>\n</template>\n\n<script setup>\nimport { useAuth } from '~/stores/auth'\nimport { useDialogAuth, useDialog } from '~/stores/dialog'\nimport Cookies from \"js-cookie\";\n\nconst auth = useAuth()\nconst dialogAuth = useDialogAuth()\nconst dialog = useDialog()\n\nconst showPassword = ref(false)\nconst loadingBtn = ref(false)\n\nlet form\nformClear()\n\n\nasync function submit() {\n    await auth.register({...form})\n}\n\nwatch(() => dialogAuth.active.register, v => {\n    formClear()\n    // v ? bodyFixed() : bodyNotFixed()\n})\n\nfunction formClear() {\n    form = reactive(formDefaults())\n}\n\nfunction formDefaults() {\n    return {\n        email: '',\n        password: '',\n        password_confirmation: '',\n        role: 'organizer'\n    }\n}\n</script>\n","import { acceptHMRUpdate, defineStore } from 'pinia'\nimport { Router } from 'vue-router'\n\ninterface Menus {\n    'header', 'headerMobile', 'footer', 'adminSidebar'\n}\n\nexport const useMenu = defineStore('menu', {\n    state: (): Menus => ({\n        header: [\n            {\n                text: 'Главная',\n                route: 'index',\n            },\n            {\n                text: 'Каталог',\n                route: 'catalog',\n            },\n            {\n                text: 'Прайс-лист',\n                route: 'price-list',\n            },\n            {\n                text: 'Новинки',\n                route: 'new',\n            },\n            {\n                text: 'Партнёры',\n                route: 'partners',\n            },\n            {\n                text: 'Декларации',\n                route: 'declarations',\n            },\n            {\n                text: 'Контакты',\n                route: 'contacts',\n            },\n        ],\n        headerMobile: [\n            {\n                text: 'Главная',\n                route: 'index',\n            },\n            {\n                text: 'Каталог',\n                route: 'catalog',\n            },\n            {\n                text: 'Прайс-лист',\n                route: 'price-list',\n            },\n            {\n                text: 'Новинки',\n                route: 'new',\n            },\n            {\n                text: 'Партнёры',\n                route: 'partners',\n            },\n            {\n                text: 'Декларации',\n                route: 'declarations',\n            },\n            {\n                text: 'Контакты',\n                route: 'contacts',\n            },\n        ],\n        footer: [\n            {\n                text: 'Главная',\n                route: 'index',\n            },\n            {\n                text: 'Каталог',\n                route: 'catalog',\n            },\n            {\n                text: 'Прайс-лист',\n                route: 'price-list',\n            },\n            {\n                text: 'Новинки',\n                route: 'new',\n            },\n            {\n                text: 'Партнёры',\n                route: 'partners',\n            },\n            {\n                text: 'Декларации',\n                route: 'declarations',\n            },\n            {\n                text: 'Контакты',\n                route: 'contacts',\n            },\n        ],\n\n        drawerMobile: false,\n        drawerAdminSidebar: false,\n    }),\n\n    getters: {\n        //\n    },\n\n    actions: {\n        get(name: Menus) {\n            // @ts-ignore\n            const data = this[name]\n            // @ts-ignore\n            const router = useRouter<Router>()\n\n            return data.map(v => {\n                let link = v.href || v.route\n                const valueRoute = typeof v.route === 'string' ? { name: v.route } : v.route\n\n                if (router.hasRoute(valueRoute.name)) {\n                    v._route = router.resolve(valueRoute)\n                    link = v._route.href\n                }\n\n                return {\n                    ...v,\n                    link\n                }\n            })\n        },\n\n        toggleDrawerMobile() {\n            this.drawerMobile = ! this.drawerMobile\n        }\n    },\n})\n\n// @ts-ignore\nif (import.meta.hot) {\n    import.meta.hot?.accept(acceptHMRUpdate(useMenu, import.meta.hot))\n}\n\n"],"version":3}