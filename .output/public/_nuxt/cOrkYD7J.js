import{v as b,O as F,P as L,k as h,o as k,c as S,a as e,m as $,I as x,l as t,y as c,Q as C,b as V,w as v,D as f,T as P,K as U,N as z,s as A,j as B,x as R,H as E,f as O,R as N,z as w,d as y,t as T,S as M,U as D,n as j}from"./B8mystvN.js";import{b as q,a as H,_ as I,c as K}from"./wYf66LjI.js";const Q={class:"relative"},ue={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:Array,default:()=>["py-1","bg-white"]}},setup(p){const u=p;let r=b(!1);const o=m=>{r.value&&m.key==="Escape"&&(r.value=!1)};F(()=>document.addEventListener("keydown",o)),L(()=>document.removeEventListener("keydown",o));const n=h(()=>({48:"w-48"})[u.width.toString()]),a=h(()=>u.align==="left"?"origin-top-left left-0":u.align==="right"?"origin-top-right right-0":"origin-top");return(m,d)=>(k(),S("div",Q,[e("div",{onClick:d[0]||(d[0]=g=>x(r)?r.value=!t(r):r=!t(r))},[$(m.$slots,"trigger")]),c(e("div",{class:"fixed inset-0 z-40",onClick:d[1]||(d[1]=g=>x(r)?r.value=!1:r=!1)},null,512),[[C,t(r)]]),V(P,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:v(()=>[c(e("div",{class:f(["absolute z-50 mt-2 rounded-md shadow-lg",[n.value,a.value]]),onClick:d[2]||(d[2]=g=>x(r)?r.value=!1:r=!1)},[e("div",{class:f(["rounded-md bg-white",p.contentClasses])},[$(m.$slots,"content")],2)],2),[[C,t(r)]])]),_:3})]))}},G={class:"bg-gray-50 dark:bg-gray-900"},J={class:"w-full space-y-8 bg-white rounded-lg dark:bg-gray-800"},me={__name:"login",setup(p){const u=U(),r=z();A(),B(),b(!1);const o=b(!1);let n;m();async function a(g){await u.login({...n})}R(()=>r.active.login,g=>{m(),g?q():H()});function m(){n=E(d())}function d(){return{email:"",password:""}}return(g,i)=>{const s=I,l=K;return k(),O(l,{noFooter:!1,show:t(r).active.login,onClose:i[2]||(i[2]=_=>t(r).setActive("login",!1))},{content:v(()=>[e("section",G,[e("div",J,[i[6]||(i[6]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Авторизация ",-1)),e("form",{class:"mt-8 space-y-6",onSubmit:N(a,["prevent"])},[e("div",null,[i[3]||(i[3]=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Эл. почта",-1)),c(e("input",{"onUpdate:modelValue":i[0]||(i[0]=_=>t(n).email=_),placeholder:"mail@mail.ru",type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[w,t(n).email]])]),e("div",null,[i[4]||(i[4]=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Пароль",-1)),c(e("input",{"onUpdate:modelValue":i[1]||(i[1]=_=>t(n).password=_),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[w,t(n).password]])]),i[5]||(i[5]=e("div",{class:"flex items-start"},[e("div",{class:"flex items-center h-5"},[e("input",{id:"remember","aria-describedby":"remember",name:"remember",type:"checkbox",class:"w-4 h-4 border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"})]),e("div",{class:"ms-3 text-sm"},[e("label",{for:"remember",class:"font-medium text-gray-500 dark:text-gray-400"},"Запомнить меня")]),e("a",{href:"#",class:"ms-auto text-sm font-medium text-blue-600 hover:underline dark:text-blue-500"},"Забыли пароль?")],-1)),V(s,{type:"submit",disabled:t(o)},{default:v(()=>[y(T(t(o)?"...":"Войти"),1)]),_:1},8,["disabled"])],32)])])]),footer:v(()=>i[7]||(i[7]=[e("div",{class:"mt-3 mb-6 text-sm font-medium text-gray-900 dark:text-white"},[y(" Ещё не зарегистрированы? "),e("a",{class:"text-blue-600 hover:underline dark:text-blue-500 cursor-pointer"},"Создать аккаунт")],-1)])),_:1},8,["show"])}}},W={class:"registration__content"},X={class:"registration__info"},Y={class:"password-eye"},Z=["type"],ee={class:"password-eye"},te=["type"],se={class:"registration__roles"},re={class:"registration__role registration__organizer"},oe={class:"registration__role registration__sponsor"},ae=["disabled"],ie={class:"registration__footer"},ne={class:"registration__login"},ce={__name:"register",setup(p){const u=U(),r=z();A();const o=b(!1),n=b(!1);let a;d();async function m(){await u.register({...a})}R(()=>r.active.register,i=>{d()});function d(){a=E(g())}function g(){return{email:"",password:"",password_confirmation:"",role:"organizer"}}return(i,s)=>(k(),S("section",{class:f([{active:t(r).active.register},"registration popup"])},[e("div",W,[s[12]||(s[12]=e("div",{class:"registration__title title"}," Регистрация ",-1)),e("form",{class:"registration__form",onSubmit:N(m,["prevent"])},[e("div",X,[c(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t(a).email=l),name:"email",class:"registration__mail registration__info-item input_blue",placeholder:"Эл. почта"},null,512),[[w,t(a).email]]),e("div",Y,[c(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t(a).password=l),class:"registration__password registration__info-item input_blue",placeholder:"Пароль",type:t(o)?"text":"password",name:"password"},null,8,Z),[[M,t(a).password]]),e("div",{class:f([{active:t(o)},"password-control"])},null,2)]),e("div",ee,[c(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t(a).password_confirmation=l),class:"registration__password-confirm registration__info-item input_blue",placeholder:"Потвердить пароль",type:t(o)?"text":"password"},null,8,te),[[M,t(a).password_confirmation]]),e("div",{class:f([{active:t(o)},"password-control"])},null,2)])]),e("div",se,[e("label",re,[c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>t(a).role=l),type:"radio",name:"role",value:"organizer",checked:""},null,512),[[D,t(a).role]]),s[7]||(s[7]=e("span",{class:"filter__custom-input"},null,-1)),s[8]||(s[8]=e("div",{class:"registration__role-text"}," Организатор ",-1))]),e("label",oe,[c(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>t(a).role=l),type:"radio",name:"role",value:"sponsor"},null,512),[[D,t(a).role]]),s[9]||(s[9]=e("span",{class:"filter__custom-input"},null,-1)),s[10]||(s[10]=e("div",{class:"registration__role-text"}," Партнер ",-1))])]),e("button",{class:"registration__create-btn btn btn_blue",type:"submit",disabled:t(n)},T(t(n)?"...":"Создать аккаунт"),9,ae)],32),e("div",ie,[e("div",ne,[s[11]||(s[11]=y(" Есть аккаунт? ")),e("div",{class:"registration__login-btn header__authorization",onClick:s[5]||(s[5]=l=>t(r).activateLogin())}," Авторизация ")])]),e("div",{class:"popup-close",onClick:s[6]||(s[6]=l=>t(r).setActive("register"))})])],2))}},ge=j("menu",{state:()=>({header:[{text:"Главная",route:"index"},{text:"Каталог",route:"catalog"},{text:"Прайс-лист",route:"price-list"},{text:"Новинки",route:"new"},{text:"Партнёры",route:"partners"},{text:"Декларации",route:"declarations"},{text:"Контакты",route:"contacts"}],headerMobile:[{text:"Главная",route:"index"},{text:"Каталог",route:"catalog"},{text:"Прайс-лист",route:"price-list"},{text:"Новинки",route:"new"},{text:"Партнёры",route:"partners"},{text:"Декларации",route:"declarations"},{text:"Контакты",route:"contacts"}],footer:[{text:"Главная",route:"index"},{text:"Каталог",route:"catalog"},{text:"Прайс-лист",route:"price-list"},{text:"Новинки",route:"new"},{text:"Партнёры",route:"partners"},{text:"Декларации",route:"declarations"},{text:"Контакты",route:"contacts"}],drawerMobile:!1,drawerAdminSidebar:!1}),getters:{},actions:{get(p){const u=this[p],r=B();return u.map(o=>{let n=o.href||o.route;const a=typeof o.route=="string"?{name:o.route}:o.route;return r.hasRoute(a.name)&&(o._route=r.resolve(a),n=o._route.href),{...o,link:n}})},toggleDrawerMobile(){this.drawerMobile=!this.drawerMobile}}});export{ue as _,me as a,ce as b,ge as u};
